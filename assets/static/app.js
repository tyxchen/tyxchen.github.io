(()=>{"use strict";const e=(e,t)=>(t?e:document).querySelector(t||e),t=(e,t)=>Array.from((t?e:document).querySelectorAll(t||e)),n=e=>Math.floor(Math.random()*e.length),i=e=>e[n(e)],a={A:.0078,B:-.0625,C:-.0391,D:-.0625,E:-.0625,F:-.0625,G:-.0391,H:-.0625,I:-.0625,J:-.0313,K:-.0625,L:-.0625,M:-.0625,N:-.0625,O:-.0391,P:-.0625,Q:-.0391,R:-.0625,S:-.0156,U:-.0547,V:-.0156,W:-.0078,Z:-.0625},s={YlGn:["#abdc8e","#92d183","#77c577","#5cb86a"],GnBu:["#64bfcb","#4fb0cd","#3c9ec7","#2a8cbe"],BuPu:["#8c80bb","#8c70b3","#8b60ac","#894fa3"],RdPu:["#f882ab","#f368a2","#e94d9c","#d93394"],YlOrRd:["#fd9e44","#fd883b","#fc6c33","#f84f2a"]},o={...s,Pu:["#807dba","#7160ab","#62439d","#54278f"],Bu:["#4292c6","#2e7cb8","#1b66aa","#08519c"],Gn:["#41ab5d","#2b964c","#15813c","#006d2c"],Or:["#f16913","#d8580d","#bf4708","#a63603"],Rd:["#fb6a4a","#ef3b2c","#cb181d","#a50f15"],red:["#f00"],green:["#0c0"],blue:["#00f"],black:["#000"],white:["#fff"],get random(){return(e=s)[i(Object.keys(e))];var e}},r=e=>{let t=new Uint8ClampedArray(3);return"#"===e[0]&&(e=e.slice(1)),6===e.length?(t[0]=parseInt(e.slice(0,2),16),t[1]=parseInt(e.slice(2,4),16),t[2]=parseInt(e.slice(4),16)):(t[0]=17*parseInt(e[0],16),t[1]=17*parseInt(e[1],16),t[2]=17*parseInt(e[2],16)),t},l=e=>"#"+Array.from(e).map((e=>{return t=e.toString(16),n=0,i=2,t.length<i?new Array(i-t.length+1).join(n)+t:t;var t,n,i})).join(""),c=(e,t,n)=>{let i=new Array(n);e=Array.from(r(e));const a=[(t=r(t))[0]-e[0],t[1]-e[1],t[2]-e[2]],s=(e,t,i)=>{let s=Math.floor(t+(e+1)*a[i]/n).toString(16);return s.length<2?"0"+s:s};for(let t=0;t<i.length;t++)i[t]="#"+e.map(s.bind(void 0,t)).join("");return i},d=(e,t,n=.5)=>e.map(((e,i)=>e+(t[i]-e)*n)),h=e=>{const{width:t,height:n,color_fcn:i,cell_size:a,variance:s}={width:600,height:400,color_fcn:([e,t])=>"#000",cell_size:75,variance:.75,...e},o=((e,t,n,i,a,s,o)=>{for(var r=e+n,l=t+i,c=.5*a,d=2*s,h=-s,m=[],f=-n;f<r;f+=a)for(var g=-i;g<l;g+=a){var u=f+c+(o()*d+h),p=g+c+(o()*d+h);m.push([Math.floor(u),Math.floor(p)])}return m})(t,n,(Math.floor((t+4*a)/a)*a-t)/2,(Math.floor((n+4*a)/a)*a-n)/2,a,a*s/2,Math.random),r=Delaunator.from(o).triangles;let l=[];for(let e=0;e<r.length;e+=3){const t=[o[r[e]],o[r[e+1]],o[r[e+2]]],n=i([(t[0][0]+t[1][0]+t[2][0])/3,(t[0][1]+t[1][1]+t[2][1])/3]);l.push([n,t])}return l},m={listeners:{},addListener(e){const t=Symbol();return this.listeners[t]=e,t},removeListener(e){delete this.listeners[e]}};let f,g=window.innerWidth;window.addEventListener("resize",(e=>{window.innerWidth!==g&&(clearTimeout(f),f=setTimeout((()=>{for(const t in m.listeners)m.listeners[t](e)}),Math.abs(window.innerWidth-g)>100?0:100),g=window.innerWidth)}));const u=m;const p=(e,t,i=!1,s=32)=>{let o,r,l=document.createNodeIterator(e,NodeFilter.SHOW_TEXT),d=document.createRange();for(;r=l.nextNode();)r.textContent.match(/^\s*$/)||(o=r);d.selectNode(o);let m,f=o.parentNode,g=o.textContent,u="mask-"+Math.random().toString(36).slice(2),{width:p,height:w}=d.getBoundingClientRect(),y=document.createElement("canvas"),v=y.getContext("2d"),b=[],x=0,L=h({width:p,height:w,cell_size:s,variance:.69});const k=`<span class="trianglify-text" style="width:${p+2}px;height:${w+2}px" aria-hidden="true">\n  <svg class="trianglify-svg" xmlns="http://www.w3.org/2000/svg">\n    <defs>\n      <mask id="${u}" x="0" y="0" width="100%" height="100%">\n        <rect x="0" y="0" width="100%" height="100%"></rect>\n        <text x="0" y="0" dy=".95em">${((e,t)=>{const n="http://www.w3.org/2000/svg";let i,s=(h=e,h.replaceAll("&","&amp;").replaceAll("<","&lt").replaceAll('"',"&quot;").replaceAll("'","&#39;")).split(/\s/),o=[],r=Math.ceil(1.0125*t.getBoundingClientRect().width),l=parseInt(window.getComputedStyle(t,null).fontSize)>72,c=[],d=1;var h;let m=document.createElementNS(n,"svg"),f=document.createElementNS(n,"text"),g=document.createElementNS(n,"tspan");for(g.setAttributeNS(n,"x",0),g.setAttributeNS(n,"y",0),f.appendChild(g),m.appendChild(f),t.appendChild(m);i=s.shift();)o.push(i),g.textContent=o.join(" "),Math.floor(g.getComputedTextLength())>r&&(o.pop(),c.push(`<tspan x="0" y="0" dx="${l&&a[o[0][0]]||0}em" dy="${d}em">${o.join(" ")}</tspan>`),o=[i],d+=1);return c.push(`<tspan x="0" y="0" dx="${l&&a[o[0][0]]||0}em" dy="${d}em">${o.join(" ")}</tspan>`),t.removeChild(m),c.join("")})(g,f)}</text>\n      </mask>\n    </defs>\n    <rect x="0" y="0" width="100%" height="100%" fill="white" mask="url(#${u})"/>\n</span>`.replace(/>\s+</g,"><"),A=e=>{let t=m;m=e,L=L.map((e=>[n(m),e[1]])),b=new Array(L.length);for(const[e,[a,s]]of L.entries())i&&t?setTimeout((()=>{b[e]=[0,c(t[a],m[a],16),s]}),Math.floor(690*Math.exp(-4*(Math.random()-1)**2)/Math.PI)):(v.fillStyle=v.strokeStyle=m[a],v.beginPath(),v.moveTo(...s[0]),v.lineTo(...s[1]),v.lineTo(...s[2]),v.fill(),v.stroke()),i&&Math.random()<.1&&setTimeout((()=>{const t=n(m);b[e]=[0,c(m[a],m[t],75),s],L[e][0]=t}),500)};if(v.lineWidth=.001,e.style.position="relative",e.style.top="-1px",e.style.height=w+2+"px",e.style.width=p+2+"px",e.style.color="transparent",e.classList.add("trianglify-rendered"),y.width=Math.ceil(p),y.height=Math.ceil(w),y.className="trianglify-canvas",A(t),f.insertAdjacentHTML("beforeend",k),f.appendChild(y),i){const e=t=>{for(const[e,t]of b.entries()){if(!t)continue;const[n,i,a]=t;v.fillStyle=v.strokeStyle=i[n],v.beginPath(),v.moveTo(...a[0]),v.lineTo(...a[1]),v.lineTo(...a[2]),v.fill(),v.stroke(),n+1<i.length?b[e][0]=n+1:delete b[e]}if(t-x>500){for(const[e,[t,i]]of L.entries())if(!b[e]&&Math.random()<.03){const a=n(m);b[e]=[0,c(m[t],m[a],75),i],L[e][0]=a}x=t}return requestAnimationFrame(e)};e(0)}return d.detach(),{canvas:y,changeColorSet:A}};{let y=e("#title:not(.trianglify)");y&&(y.style.textIndent=a[y.textContent[0]]+"em")}if(e(".site-header__menu-toggler")){let v=e("body").classList,b=e(".site-header__menu");e(".site-header__menu-toggler").addEventListener("click",(function(n){n.preventDefault(),e(".site-header__menu-background").style.transform=v.contains("menu-open")?"scale(0)":`scale(${2*Math.sqrt(window.innerHeight*window.innerHeight+window.innerWidth*window.innerWidth)/5})`,v.contains("menu-open")?(v.remove("menu-open"),e("html").classList.remove("menu-open"),b.setAttribute("aria-hidden",!0),t(b,"a").forEach((e=>e.setAttribute("tabindex","-1"))),this.setAttribute("aria-label","Open menu")):(v.add("menu-open"),e("html").classList.add("menu-open"),b.removeAttribute("aria-hidden"),t(b,"a").forEach((e=>e.removeAttribute("tabindex"))),this.setAttribute("aria-label","Close menu"))}))}if(e(".showcase")){for(const x of t(".showcase")){const L=o[x.dataset.clr||"random"]||[x.dataset.clr],k=L.length>1?i(L):L[0],A=(w=r(k),(Math.max(...w)+Math.min(...w))/510>.5?"#222":"#fff");let E=x.getBoundingClientRect();async function M(){const t=e(x,".showcase-canvas"),n=t.getContext("2d"),a=[[102,102,102],[119,119,119],[136,136,136],[153,153,153]].map((e=>l(d(r(k),e,.3)))),s=h({width:E.width,height:E.height,color_fcn:()=>i(a)});t.width=E.width,t.height=E.height;for(const[e,t]of s)n.fillStyle=n.strokeStyle=e,n.beginPath(),n.moveTo(...t[0]),n.lineTo(...t[1]),n.lineTo(...t[2]),n.fill(),n.stroke()}if(x.style.setProperty("--bg-color",k),x.style.setProperty("--fg-color",A),x.style.height=E.height+"px",x.classList.add("loaded"),M(),location.hash.slice(1)===x.id){const C=()=>{location.hash="null",history.replaceState({},"",location.pathname),document.removeEventListener("click",C)};document.addEventListener("click",C)}u.addListener((()=>{const t=e(".showcase-more").classList.contains("hidden");t&&e(".showcase-more").classList.remove("hidden"),x.style.height="auto",x.classList.remove("loaded"),E=x.getBoundingClientRect(),x.classList.add("loaded"),x.style.height=E.height+"px",t&&e(".showcase-more").classList.add("hidden"),M()}))}e(".showcase-show-more").addEventListener("click",(t=>{t.preventDefault(),e(".showcase-more").classList.remove("hidden"),e(".showcase-show-more").classList.add("hidden")})),e(".showcase-show-less").addEventListener("click",(t=>{t.preventDefault(),e(".showcase-more").classList.add("hidden"),e(".showcase-show-more").classList.remove("hidden")})),e(".showcase-more").classList.add("hidden")}var w;if(e(".showcase-mini"))for(const S of t(".showcase-mini")){const T=e(S,".showcase-mini-toggle");e(S,".showcase-mini-heading").addEventListener("click",(t=>{t.preventDefault(),S.classList.contains("open")?(S.classList.remove("open"),T.setAttribute("title","Expand"),T.setAttribute("aria-label","Expand"),e(S,".showcase-mini-content").setAttribute("aria-hidden",!0)):(S.classList.add("open"),T.setAttribute("title","Collapse"),T.setAttribute("aria-label","Collapse"),e(S,".showcase-mini-content").removeAttribute("aria-hidden"))}),!0)}if(e(".image-carousel"))for(const $ of t(".image-carousel")){const j=t($,"picture").map((e=>e.dataset.id));let R=j.indexOf($.dataset.start);const _=t=>{R=t,$.dataset.start=j[t],e($,".image-carousel-current").setAttribute("aria-hidden",!0),e($,".image-carousel-current").classList.remove("image-carousel-current"),e($,`[data-id="${j[t]}"]`).classList.add("image-carousel-current"),e($,".image-carousel-current").removeAttribute("aria-hidden"),e($,".image-carousel-container").style.transform=`translateX(-${t*$.getBoundingClientRect().width}px)`,e($,".image-carousel-pagination-current").textContent=t+1,e($,".image-carousel-lightbox img").src=e($,".image-carousel-current img").src};for(const I of t($,"picture img"))I.style.width=$.getBoundingClientRect().width-10+"px";if(e($,".image-carousel-controls")){const N=e($,".image-carousel-prev"),P=e($,".image-carousel-next");N.addEventListener("click",(e=>{e.preventDefault(),_((R-1+j.length)%j.length)})),P.addEventListener("click",(e=>{e.preventDefault(),_((R+1)%j.length)}))}e($,".image-carousel-container").addEventListener("click",(()=>{e(".image-carousel-lightbox").classList.remove("hidden")})),e($,".image-carousel-lightbox").addEventListener("click",(()=>{e(".image-carousel-lightbox").classList.add("hidden")})),_(R),u.addListener((()=>{for(const e of t($,"picture img"))e.style.width=$.getBoundingClientRect().width-10+"px";_(R)}))}if(e("figure.expandable"))for(const B of t("figure.expandable")){const O=e(B,"img"),H=e(B,".placeholder");e(B,".img-wrapper");O.addEventListener("load",(()=>{const{naturalHeight:e,naturalWidth:t}=O,n=t/e;B.addEventListener("click",(i=>{let a;function s(){const{top:i,left:a,height:s,width:o}=O.getBoundingClientRect(),{innerHeight:r,innerWidth:l}=window,c=Math.min(e,r-40),d=Math.min(t,l-40);O.style.height=H.style.height=s+"px",O.style.width=H.style.width=o+"px",O.style.top=i+"px",O.style.left=a+"px",O.style.transform=n<=(l-40)/(r-40)?`translateY(${(r-c)/2-i}px) scale(${c/s})`:`translateY(${(r-d/n)/2-i}px) scale(${d/o})`}function o(){B.classList.remove("expanded"),H.removeAttribute("style"),O.removeAttribute("style"),u.removeListener(a)}if(B.classList.contains("expanded"))o();else if(i.target==O){window.scrollY;s(),B.classList.add("expanded"),a=u.addListener((()=>{s()})),window.addEventListener("scroll",(function e(){o(),window.removeEventListener("scroll",e)}))}}))})),O.complete&&O.dispatchEvent(new Event("load"))}if(e(".layout-home")){let W=Object.keys(s),q=0,D=[];const z=()=>{const e=W[q];for(let e=W.length-1;e>0;e--){let t=Math.floor(Math.random()*(e+1)),n=W[t];W[t]=W[e],W[e]=n}e===W[0]&&(W[0]=W[W.length>>1],W[W.length>>1]=e)};z();for(const Y of t(".trianglify"))Y.style.color=s[W[0]][3];window.addEventListener("load",(()=>{for(const e of t(".trianglify")){const{canvas:t,changeColorSet:n}=p(e,s[W[q]],!window.matchMedia("(prefers-reduced-motion)").matches,parseInt(e.dataset.cellSize)||void 0);D.push(n),e.closest(".clicky")&&e.closest(".clicky").addEventListener("click",(e=>{e.preventDefault(),q++;for(const e of D)e(s[W[q]]);q+1>=W.length&&(z(),q=-1)})),e.classList.remove("trianglify")}}))}window.addEventListener("load",(()=>{(()=>{for(const e of t(".trianglify"))p(e,o[e.dataset.clr||i(Object.keys(s))],e.dataset.hasOwnProperty("animate")&&!window.matchMedia("(prefers-reduced-motion)").matches,parseInt(e.dataset.cellSize)||void 0),e.classList.remove("trianglify")})()})),function(){const n=e=>{e.insertAdjacentHTML("afterend",katex.renderToString(e.textContent.replace(/%.*/g,""),{throwOnError:!1,displayMode:e.type.includes("mode=display")}))};if(e('[type*="math/tex"]')){new Promise(((t,n)=>{const i=document.createElement("script");i.src="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.js",i.integrity="sha256-q01RVaHUJiYq9aq0FwkI6GAmMtOmRgToK8aEHHm4Xl8=",i.crossOrigin="anonymous",i.onload=t,i.onerror=n,e("head").appendChild(i),e("head").insertAdjacentHTML("beforeend",'<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.css" integrity="sha256-BZ71u1P7NUocEN9mKkcAovn3q5JPm/r9xVyjWh/Kqrc=" crossorigin="anonymous">')})).then((()=>{t('[type*="math/tex"]').forEach(n),e("html").classList.remove("no-katex")})).catch((e=>{console.error("KaTeX script failed to load: "+e.message)}))}}()})();