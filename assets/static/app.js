(()=>{"use strict";const e=(e,t)=>(t?e:document).querySelector(t||e),t=(e,t)=>Array.from((t?e:document).querySelectorAll(t||e)),n=e=>Math.floor(Math.random()*e.length),i=e=>e[n(e)],a={A:.0078,B:-.0625,C:-.0391,D:-.0625,E:-.0625,F:-.0625,G:-.0391,H:-.0625,I:-.0625,J:-.0313,K:-.0625,L:-.0625,M:-.0625,N:-.0625,O:-.0391,P:-.0625,Q:-.0391,R:-.0625,S:-.0156,U:-.0547,V:-.0156,W:-.0078,Z:-.0625},s={YlGn:["#abdc8e","#92d183","#77c577","#5cb86a"],GnBu:["#64bfcb","#4fb0cd","#3c9ec7","#2a8cbe"],BuPu:["#8c80bb","#8c70b3","#8b60ac","#894fa3"],RdPu:["#f882ab","#f368a2","#e94d9c","#d93394"],YlOrRd:["#fd9e44","#fd883b","#fc6c33","#f84f2a"]},r={...s,Pu:["#807dba","#7160ab","#62439d","#54278f"],Bu:["#4292c6","#2e7cb8","#1b66aa","#08519c"],Gn:["#41ab5d","#2b964c","#15813c","#006d2c"],Or:["#f16913","#d8580d","#bf4708","#a63603"],Rd:["#fb6a4a","#ef3b2c","#cb181d","#a50f15"],red:["#f00"],green:["#0c0"],blue:["#00f"],black:["#000"],white:["#fff"],get random(){return(e=s)[i(Object.keys(e))];var e}},o=e=>{let t=new Uint8ClampedArray(3);return"#"===e[0]&&(e=e.slice(1)),6===e.length?(t[0]=parseInt(e.slice(0,2),16),t[1]=parseInt(e.slice(2,4),16),t[2]=parseInt(e.slice(4),16)):(t[0]=17*parseInt(e[0],16),t[1]=17*parseInt(e[1],16),t[2]=17*parseInt(e[2],16)),t},l=e=>"#"+Array.from(e).map((e=>{return t=e.toString(16),n=0,i=2,t.length<i?new Array(i-t.length+1).join(n)+t:t;var t,n,i})).join(""),c=(e,t,n)=>{let i=new Array(n);e=Array.from(o(e));const a=[(t=o(t))[0]-e[0],t[1]-e[1],t[2]-e[2]],s=(e,t,i)=>{let s=Math.floor(t+(e+1)*a[i]/n).toString(16);return s.length<2?"0"+s:s};for(let t=0;t<i.length;t++)i[t]="#"+e.map(s.bind(void 0,t)).join("");return i},d=(e,t,n=.5)=>e.map(((e,i)=>e+(t[i]-e)*n)),h=e=>{const{width:t,height:n,color_fcn:i,cell_size:a,variance:s}={width:600,height:400,color_fcn:([e,t])=>"#000",cell_size:75,variance:.75,...e},r=((e,t,n,i,a,s,r)=>{for(var o=e+n,l=t+i,c=.5*a,d=2*s,h=-s,m=[],f=-n;f<o;f+=a)for(var g=-i;g<l;g+=a){var u=f+c+(r()*d+h),p=g+c+(r()*d+h);m.push([Math.floor(u),Math.floor(p)])}return m})(t,n,(Math.floor((t+4*a)/a)*a-t)/2,(Math.floor((n+4*a)/a)*a-n)/2,a,a*s/2,Math.random),o=Delaunator.from(r).triangles;let l=[];for(let e=0;e<o.length;e+=3){const t=[r[o[e]],r[o[e+1]],r[o[e+2]]],n=i([(t[0][0]+t[1][0]+t[2][0])/3,(t[0][1]+t[1][1]+t[2][1])/3]);l.push([n,t])}return l},m={listeners:{},addListener(e){const t=Symbol();return this.listeners[t]=e,t},removeListener(e){delete this.listeners[e]},run(){let e,t=window.innerWidth;window.addEventListener("resize",(n=>{window.innerWidth!==t&&(clearTimeout(e),e=setTimeout((()=>{for(const e in this.listeners)this.listeners[e](n)}),Math.abs(window.innerWidth-t)>100?0:100),t=window.innerWidth)})),delete this.run}};const f=window.trianglify=(t,i,s=!1,r=32)=>{let o,l=e(t,".text-wrap"),d=l.parentNode,m=l.textContent,f="mask-"+t.getAttribute("id"),{width:g,height:u}=l.getBoundingClientRect(),p=document.createElement("canvas"),w=p.getContext("2d"),y=[],v=0,b=h({width:g,height:u,cell_size:r,variance:.69});const x=`<span class="trianglify-text" style="width:${g+2}px;height:${u+2}px">\n  <svg class="trianglify-svg" xmlns="http://www.w3.org/2000/svg">\n    <defs>\n      <mask id="${f}" x="0" y="0" width="100%" height="100%">\n        <rect x="0" y="0" width="100%" height="100%"></rect>\n        <text x="0" y="0" dy=".95em">${((e,t)=>{const n="http://www.w3.org/2000/svg";let i,s=e.split(/\s/),r=[],o=Math.ceil(t.getBoundingClientRect().width),l=parseInt(window.getComputedStyle(t,null).fontSize)>72,c=[],d=.95,h=document.createElementNS(n,"svg"),m=document.createElementNS(n,"text"),f=document.createElementNS(n,"tspan");for(f.setAttributeNS(n,"x",0),f.setAttributeNS(n,"y",0),m.appendChild(f),h.appendChild(m),t.appendChild(h);i=s.shift();)r.push(i),f.textContent=r.join(" "),f.getComputedTextLength()>o&&(r.pop(),c.push(`<tspan x="0" y="0" dx="${l&&a[r[0][0]]||0}em" dy="${d}em">${r.join(" ")}</tspan>`),r=[i],d+=1);return c.push(`<tspan x="0" y="0" dx="${l&&a[r[0][0]]||0}em" dy="${d}em">${r.join(" ")}</tspan>`),t.removeChild(h),c.join("")})(m,l)}</text>\n      </mask>\n    </defs>\n    <rect x="0" y="0" width="100%" height="100%" fill="white" mask="url(#${f})"/>\n</span>\n<span class="trianglify-ghost-text">${m}</span>`,L=e=>{let t=o;o=e,b=b.map((e=>[n(o),e[1]])),y=new Array(b.length);for(const[e,[i,a]]of b.entries())s&&t?setTimeout((()=>{y[e]=[0,c(t[i],o[i],16),a]}),Math.floor(690*Math.exp(-4*(Math.random()-1)**2)/Math.PI)):(w.fillStyle=w.strokeStyle=o[i],w.beginPath(),w.moveTo(...a[0]),w.lineTo(...a[1]),w.lineTo(...a[2]),w.fill(),w.stroke()),s&&Math.random()<.1&&setTimeout((()=>{const t=n(o);y[e]=[0,c(o[i],o[t],75),a],b[e][0]=t}),500)};if(w.lineWidth=.001,t.style.position="relative",t.style.height=u+2+"px",t.style.width=g+2+"px",t.classList.add("trianglify-rendered"),p.width=g,p.height=u,p.className="trianglify-canvas",L(i),d.removeChild(l),d.insertAdjacentHTML("beforeend",x),d.appendChild(p),s){const e=t=>{for(const[e,t]of y.entries()){if(!t)continue;const[n,i,a]=t;w.fillStyle=w.strokeStyle=i[n],w.beginPath(),w.moveTo(...a[0]),w.lineTo(...a[1]),w.lineTo(...a[2]),w.fill(),w.stroke(),n+1<i.length?y[e][0]=n+1:delete y[e]}if(t-v>500){for(const[e,[t,i]]of b.entries())if(!y[e]&&Math.random()<.03){const a=n(o);y[e]=[0,c(o[t],o[a],75),i],b[e][0]=a}v=t}return requestAnimationFrame(e)};e(0)}return{canvas:p,changeColorSet:L}};let g,u,p=()=>{};window.addEventListener("load",(()=>{if(e("#title.trianglify")){let n,a=e("#title.trianglify");g=a.dataset.clr||i(Object.keys(s)),n=r[g];const{canvas:o,changeColorSet:l}=f(a,n,!0);u=o,p=l;for(const e of t("#header .subtitle a"))e.style.color=n[2];a.dataset.hasOwnProperty("changeable")&&"false"!==a.dataset.changeable&&e(a,".clicky").addEventListener("click",(e=>{e.preventDefault();const a=Object.keys(s);~a.indexOf(g)&&a.splice(a.indexOf(g),1),g=i(a),n=s[g];for(const e of t("#header .subtitle a"))e.style.color=n[2];p(n)})),a.classList.remove("trianglify")}for(const e of t(".trianglify"))f(e,r[e.dataset.clr||i(Object.keys(s))],e.dataset.hasOwnProperty("animate"),parseInt(e.dataset.cellSize)||void 0),e.classList.remove("trianglify")})),m.addListener((()=>{if(e("#title.trianglify-rendered")){let t=e("#title.trianglify-rendered"),n=e(t,".clicky")||t;for(const e of Array.from(n.childNodes))"trianglify-text"===e.className||"trianglify-canvas"===e.className?n.removeChild(e):"trianglify-ghost-text"===e.className&&(e.className="text-wrap");t.setAttribute("style","");const{canvas:i,changeColorSet:a}=f(t,r[g],!0);u=i,p=a}}));{let y=e("#title:not(.trianglify)");y&&(y.style.textIndent=a[y.textContent[0]]+"em")}if(e(".site-header__menu-toggler")){let v=e("body").classList,b=e(".site-header__menu");e(".site-header__menu-toggler").addEventListener("click",(function(n){n.preventDefault(),e(".site-header__menu-background").style.transform=v.contains("menu-open")?"scale(0)":`scale(${2*Math.sqrt(window.innerHeight*window.innerHeight+window.innerWidth*window.innerWidth)/5})`,v.contains("menu-open")?(v.remove("menu-open"),e("html").classList.remove("menu-open"),b.setAttribute("aria-hidden",!0),t(b,"a").forEach((e=>e.setAttribute("tabindex","-1"))),this.setAttribute("aria-label","Open menu")):(v.add("menu-open"),e("html").classList.add("menu-open"),b.removeAttribute("aria-hidden"),t(b,"a").forEach((e=>e.removeAttribute("tabindex"))),this.setAttribute("aria-label","Close menu"))}))}if(e(".showcase")){for(const x of t(".showcase")){const L=r[x.dataset.clr||"random"]||[x.dataset.clr],k=L.length>1?i(L):L[0],A=(w=o(k),(Math.max(...w)+Math.min(...w))/510>.5?"#222":"#fff");let C=x.getBoundingClientRect();async function E(){const t=e(x,".showcase-canvas"),n=t.getContext("2d"),a=[[102,102,102],[119,119,119],[136,136,136],[153,153,153]].map((e=>l(d(o(k),e,.3)))),s=h({width:C.width,height:C.height,color_fcn:()=>i(a)});t.width=C.width,t.height=C.height;for(const[e,t]of s)n.fillStyle=n.strokeStyle=e,n.beginPath(),n.moveTo(...t[0]),n.lineTo(...t[1]),n.lineTo(...t[2]),n.fill(),n.stroke()}if(x.style.setProperty("--bg-color",k),x.style.setProperty("--fg-color",A),x.style.height=C.height+"px",x.classList.add("loaded"),E(),location.hash.slice(1)===x.id){const M=()=>{location.hash="null",history.replaceState({},"",location.pathname),document.removeEventListener("click",M)};document.addEventListener("click",M)}m.addListener((()=>{const t=e(".showcase-more").classList.contains("hidden");t&&e(".showcase-more").classList.remove("hidden"),x.style.height="auto",x.classList.remove("loaded"),C=x.getBoundingClientRect(),x.classList.add("loaded"),x.style.height=C.height+"px",t&&e(".showcase-more").classList.add("hidden"),E()}))}e(".showcase-show-more").addEventListener("click",(t=>{t.preventDefault(),e(".showcase-more").classList.remove("hidden"),e(".showcase-show-more").classList.add("hidden")})),e(".showcase-show-less").addEventListener("click",(t=>{t.preventDefault(),e(".showcase-more").classList.add("hidden"),e(".showcase-show-more").classList.remove("hidden")})),e(".showcase-more").classList.add("hidden")}var w;if(e(".showcase-mini"))for(const S of t(".showcase-mini")){const T=e(S,".showcase-mini-toggle");e(S,".showcase-mini-heading").addEventListener("click",(t=>{t.preventDefault(),S.classList.contains("open")?(S.classList.remove("open"),T.setAttribute("title","Expand"),T.setAttribute("aria-label","Expand"),e(S,".showcase-mini-content").setAttribute("aria-hidden",!0)):(S.classList.add("open"),T.setAttribute("title","Collapse"),T.setAttribute("aria-label","Collapse"),e(S,".showcase-mini-content").removeAttribute("aria-hidden"))}),!0)}if(e(".image-carousel"))for(const $ of t(".image-carousel")){const j=t($,"picture").map((e=>e.dataset.id));let O=j.indexOf($.dataset.start);const N=t=>{O=t,$.dataset.start=j[t],e($,".image-carousel-current").setAttribute("aria-hidden",!0),e($,".image-carousel-current").classList.remove("image-carousel-current"),e($,`[data-id="${j[t]}"]`).classList.add("image-carousel-current"),e($,".image-carousel-current").removeAttribute("aria-hidden"),e($,".image-carousel-container").style.transform=`translateX(-${t*$.getBoundingClientRect().width}px)`,e($,".image-carousel-pagination-current").textContent=t+1,e($,".image-carousel-lightbox img").src=e($,".image-carousel-current img").src};for(const P of t($,"picture img"))P.style.width=$.getBoundingClientRect().width-10+"px";if(e($,".image-carousel-controls")){const R=e($,".image-carousel-prev"),_=e($,".image-carousel-next");R.addEventListener("click",(e=>{e.preventDefault(),N((O-1+j.length)%j.length)})),_.addEventListener("click",(e=>{e.preventDefault(),N((O+1)%j.length)}))}e($,".image-carousel-container").addEventListener("click",(()=>{e(".image-carousel-lightbox").classList.remove("hidden")})),e($,".image-carousel-lightbox").addEventListener("click",(()=>{e(".image-carousel-lightbox").classList.add("hidden")})),N(O),m.addListener((()=>{for(const e of t($,"picture img"))e.style.width=$.getBoundingClientRect().width-10+"px";N(O)}))}if(e("figure.expandable"))for(const B of t("figure.expandable")){const I=e(B,"img"),H=e(B,".placeholder");e(B,".img-wrapper");I.addEventListener("load",(()=>{const{naturalHeight:e,naturalWidth:t}=I,n=t/e;B.addEventListener("click",(i=>{let a;function s(){const{top:i,left:a,height:s,width:r}=I.getBoundingClientRect(),{innerHeight:o,innerWidth:l}=window,c=Math.min(e,o-40),d=Math.min(t,l-40);I.style.height=H.style.height=s+"px",I.style.width=H.style.width=r+"px",I.style.top=i+"px",I.style.left=a+"px",I.style.transform=n<=(l-40)/(o-40)?`translateY(${(o-c)/2-i}px) scale(${c/s})`:`translateY(${(o-d/n)/2-i}px) scale(${d/r})`}function r(){B.classList.remove("expanded"),H.removeAttribute("style"),I.removeAttribute("style"),m.removeListener(a)}if(B.classList.contains("expanded"))r();else if(i.target==I){window.scrollY;s(),B.classList.add("expanded"),a=m.addListener((()=>{s()})),window.addEventListener("scroll",(function e(){r(),window.removeEventListener("scroll",e)}))}}))})),I.complete&&I.dispatchEvent(new Event("load"))}!function(){const n=e=>{e.insertAdjacentHTML("afterend",katex.renderToString(e.textContent.replace(/%.*/g,""),{throwOnError:!1,displayMode:e.type.includes("mode=display")}))};if(e('[type*="math/tex"]')){new Promise(((t,n)=>{const i=document.createElement("script");i.src="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.js",i.integrity="sha256-q01RVaHUJiYq9aq0FwkI6GAmMtOmRgToK8aEHHm4Xl8=",i.crossOrigin="anonymous",i.onload=t,i.onerror=n,e("head").appendChild(i),e("head").insertAdjacentHTML("beforeend",'<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.css" integrity="sha256-BZ71u1P7NUocEN9mKkcAovn3q5JPm/r9xVyjWh/Kqrc=" crossorigin="anonymous">')})).then((()=>{t('[type*="math/tex"]').forEach(n),e("html").classList.remove("no-katex")})).catch((e=>{console.error("KaTeX script failed to load: "+e.message)}))}}(),m.run()})();