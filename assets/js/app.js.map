{"version":3,"sources":["app.js"],"names":["choosableColors","YlGn","GnBu","BuPu","PuRd","RdPu","YlOrRd","baseColors","Pu","Bu","Gn","Or","Rd","constColors","red","green","blue","black","white","colors","$","ctx","sel","document","querySelector","$$","Array","prototype","slice","call","querySelectorAll","chooseRandomFromArray","arr","Math","floor","random","length","chooseRandomFromObject","obj","Object","keys","leftPad","str","pad","len","join","getGradient","fromClr","toClr","numStops","stops","map","x","parseInt","i","f","k","toString","trianglify","el","colorSet","animate","cell_size","wrapText","text","SVG","offset","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","U","V","W","Z","words","split","line","lineHeight","svg","createElementNS","textNode","tspan","width","ceil","getBoundingClientRect","fontSize","window","getComputedStyle","builder","dy","word","setAttributeNS","appendChild","shift","push","textContent","getComputedTextLength","pop","removeChild","wrapperParent","wrapper","parentNode","maskId","getAttribute","height","canvas","createElement","getContext","Trianglify","variance","polys","templ","className","fading","defaultNumStops","lastTimestamp","chosenColors","changeColorSet","set","a","indexOf","clr","p","fillStyle","strokeStyle","beginPath","moveTo","apply","lineTo","fill","stroke","randClr","lineWidth","style","position","insertAdjacentHTML","animFrame","timestamp","stop","clrStops","requestAnimationFrame","chosenTitleClr","title","dataset","titleCanvas","changeTitleColorSet","onload","chosenClr","color","classList","contains","hasOwnProperty","changeable","onclick","choosableClrs","splice","t","l","resizeTimeout","lastWindowWidth","innerWidth","onresize","clearTimeout","setTimeout","childNodes","n","setAttribute","abs"],"mappings":"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","file":"app.js","sourcesContent":["(() => {\r\n  // Colours from ColorBrewer\r\n  // https://bl.ocks.org/mbostock/5577023\r\n  const choosableColors = {\r\n    //YlGn: [\"#addd8e\",\"#78c679\",\"#41ab5d\",\"#238443\"],\r\n    YlGn: [\"#addd8e\",\"#89cc7d\",\"#65bb6d\",\"#41ab5d\"],\r\n    GnBu: [\"#7bccc4\",\"#4eb3d3\",\"#2b8cbe\",\"#0868ac\"],\r\n    BuPu: [\"#8c96c6\",\"#8c6bb1\",\"#88419d\",\"#810f7c\"],\r\n    PuRd: [\"#e7298a\",\"#ce1256\",\"#980043\",\"#67001f\"],\r\n    RdPu: [\"#f768a1\",\"#dd3497\",\"#ae017e\",\"#7a0177\"],\r\n    YlOrRd: [\"#feb24c\",\"#fd8d3c\",\"#fc4e2a\",\"#e31a1c\"]\r\n  }\r\n  const baseColors = {\r\n    //Pu: [\"#8c6bb1\",\"#807dba\",\"#6a51a3\",\"#54278f\"], // [0] from BuPu[1]\r\n    Pu: [\"#807dba\",\"#7160ab\",\"#62439d\",\"#54278f\"],\r\n    //Bu: [\"#6baed6\",\"#4292c6\",\"#2171b5\",\"#08519c\"],\r\n    Bu: [\"#4292c6\",\"#2e7cb8\",\"#1b66aa\",\"#08519c\"],\r\n    Gn: [\"#41ab5d\",\"#2b964c\",\"#15813c\",\"#006d2c\"],\r\n    //Or: [\"#fd8d3c\",\"#f16913\",\"#d94801\",\"#a63603\"],\r\n    Or: [\"#f16913\",\"#d8580d\",\"#bf4708\",\"#a63603\"],\r\n    Rd: [\"#fb6a4a\",\"#ef3b2c\",\"#cb181d\",\"#a50f15\"]\r\n  };\r\n  const constColors = {\r\n    red: ['#f00'],\r\n    green: ['#0c0'],\r\n    blue: ['#00f'],\r\n    black: ['#000'],\r\n    white: ['#fff']\r\n  };\r\n  const colors = { ...choosableColors, ...baseColors, ...constColors };\r\n  \r\n  const $ = (ctx, sel) => (!sel ? document : ctx).querySelector(sel || ctx),\r\n        $$ = (ctx, sel) => Array.prototype.slice.call((!sel ? document : ctx).querySelectorAll(sel || ctx));\r\n\r\n  const chooseRandomFromArray = (arr) => arr[Math.floor(Math.random()*arr.length)];\r\n\r\n  const chooseRandomFromObject = (obj) => obj[chooseRandomFromArray(Object.keys(obj))];\r\n\r\n  const leftPad = (str, pad, len) => str.length < len ? (new Array(len - str.length + 1).join(pad) + str) : str;\r\n\r\n  const getGradient = (fromClr, toClr, numStops) => {\r\n    let stops = new Array(numStops);\r\n    \r\n    fromClr = fromClr.slice(1);\r\n    toClr = toClr.slice(1);\r\n\r\n    if (fromClr.length === 6) {\r\n      fromClr = [fromClr.slice(0, 2), fromClr.slice(2, 4), fromClr.slice(4)].map((x) => parseInt(x, 16));\r\n    } else {\r\n      fromClr = [fromClr[0], fromClr[1], fromClr[2]].map((x) => 17 * parseInt(x, 16));\r\n    }\r\n    if (toClr.length === 6) {\r\n      toClr = [toClr.slice(0, 2), toClr.slice(2, 4), toClr.slice(4)].map((x) => parseInt(x, 16));\r\n    } else {\r\n      toClr = [toClr[0], toClr[1], toClr[2]].map((x) => 17 * parseInt(x, 16));\r\n    }\r\n\r\n    for (let i=0; i<stops.length; i++) {\r\n      stops[i] = '#' + fromClr.map((f, k) => leftPad(Math.floor(f + (i + 1) * (toClr[k] - f) / numStops).toString(16), 0, 2)).join('');\r\n    }\r\n\r\n    return stops;\r\n  };\r\n\r\n  const trianglify = (el, colorSet, animate = false, cell_size = 32) => {\r\n    // wrap text to constraints of el\r\n    // returns a SVG string\r\n    // inspired by https://bl.ocks.org/mbostock/7555321\r\n    const wrapText = (text, el) => {\r\n      const SVG = \"http://www.w3.org/2000/svg\",\r\n            offset = {\r\n              B: 0.0625,\r\n              C: 0.0391,\r\n              D: 0.0625,\r\n              E: 0.0625,\r\n              F: 0.0625,\r\n              G: 0.0391,\r\n              H: 0.0625,\r\n              I: 0.0625,\r\n              J: 0.0313,\r\n              K: 0.0625,\r\n              L: 0.0625,\r\n              M: 0.0625,\r\n              N: 0.0625,\r\n              O: 0.0391,\r\n              P: 0.0625,\r\n              Q: 0.0391,\r\n              R: 0.0625,\r\n              S: 0.0156,\r\n              U: 0.0547,\r\n              V: 0.0156,\r\n              W: 0.0078,\r\n              Z: 0.0625\r\n            };\r\n      let words = text.split(/\\s/),\r\n          line = [],\r\n          lineHeight = 1,\r\n          svg = document.createElementNS(SVG, 'svg'),\r\n          textNode = document.createElementNS(SVG, 'text'),\r\n          tspan = document.createElementNS(SVG, 'tspan'),\r\n          width = Math.ceil(el.getBoundingClientRect().width), // give some wiggle room\r\n          fontSize = parseInt(window.getComputedStyle(el, null).fontSize),\r\n          builder = [],\r\n          dy = 0.95,\r\n          word;\r\n      \r\n      tspan.setAttributeNS(SVG, 'x', 0);\r\n      tspan.setAttributeNS(SVG, 'y', 0);\r\n      textNode.appendChild(tspan);\r\n      svg.appendChild(textNode);\r\n      el.appendChild(svg);\r\n      \r\n      while (word = words.shift()) {\r\n        line.push(word);\r\n        tspan.textContent = line.join(' ');\r\n        if (tspan.getComputedTextLength() > width) {\r\n          line.pop();\r\n          builder.push(`<tspan x=\"0\" y=\"0\" dx=\"-${fontSize > 72 ? (offset[line[0][0]] || 0) : 0}em\" dy=\"${dy}em\">${line.join(' ')}</tspan>`);\r\n          line = [word];\r\n          dy += lineHeight;\r\n        }\r\n      }\r\n      builder.push(`<tspan x=\"0\" y=\"0\" dx=\"-${fontSize > 72 ? (offset[line[0][0]] || 0) : 0}em\" dy=\"${dy}em\">${line.join(' ')}</tspan>`);\r\n      \r\n      el.removeChild(svg);\r\n      \r\n      return builder.join('');\r\n    };\r\n    \r\n    let wrapper = $(el, '.text-wrap'),\r\n        wrapperParent = wrapper.parentNode, // no guarantee wrapper.parentNode === el\r\n        text = wrapper.textContent,\r\n        maskId = 'mask-' + el.getAttribute('id'),\r\n        { width, height } = wrapper.getBoundingClientRect(),\r\n        canvas = document.createElement('canvas'),\r\n        ctx = canvas.getContext('2d'),\r\n        { polys } = Trianglify({\r\n          width,\r\n          height,\r\n          cell_size, //Math.floor(parseInt(window.getComputedStyle(el, null).fontSize) / 4),\r\n          variance: .69\r\n        }),\r\n        templ = `<span class=\"trianglify-text\" style=\"width:${width + 2}px;height:${height + 2}px\">\r\n    <svg class=\"trianglify-svg\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <defs>\r\n        <mask id=\"${maskId}\" x=\"0\" y=\"0\" width=\"100%\" height=\"100%\">\r\n          <rect x=\"0\" y=\"0\" width=\"100%\" height=\"100%\"></rect>\r\n          <text class=\"${el.className}\" x=\"0\" y=\"0\" dy=\".95em\">${wrapText(text, wrapper)}</text>\r\n        </mask>\r\n      </defs>\r\n      <rect x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" fill=\"white\" mask=\"url(#${maskId})\"/>\r\n  </span>\r\n  <span class=\"trianglify-ghost-text\">${text}</span>`,\r\n        fading = [],\r\n        defaultNumStops = 75, // 4500 / 60; each change takes 4.5 seconds\r\n        lastTimestamp = 0, // for animation\r\n        chosenColors;\r\n    \r\n    let changeColorSet = (set) => {\r\n      chosenColors = set;\r\n      polys = polys.map((a) => [chosenColors.indexOf(chooseRandomFromArray(chosenColors)), a[1]]);\r\n      fading = new Array(polys.length);\r\n\r\n      for (let i=0; i<polys.length; i++) {\r\n        let [clr, p] = polys[i];\r\n        ctx.fillStyle = ctx.strokeStyle = chosenColors[clr];\r\n        ctx.beginPath();\r\n        ctx.moveTo.apply(ctx, p[0]);\r\n        ctx.lineTo.apply(ctx, p[1]);\r\n        ctx.lineTo.apply(ctx, p[2]);\r\n        ctx.fill();\r\n        ctx.stroke();\r\n        \r\n        if (Math.random() < 0.1) {\r\n          let randClr = chooseRandomFromArray(chosenColors);\r\n          fading[i] = [0, getGradient(chosenColors[clr], randClr, defaultNumStops), p];\r\n          polys[i][0] = chosenColors.indexOf(randClr);\r\n        }\r\n      }\r\n    };\r\n      \r\n    ctx.lineWidth = 0.001;\r\n\r\n    el.style.position = 'relative';\r\n    el.style.height = (height + 2) + 'px';\r\n    el.style.width = (width + 2) + 'px';\r\n    \r\n    canvas.width = width;\r\n    canvas.height = height;\r\n    canvas.className = 'trianglify-canvas';\r\n    \r\n    changeColorSet(colorSet);\r\n    \r\n    wrapperParent.removeChild(wrapper);\r\n    \r\n    wrapperParent.insertAdjacentHTML('beforeend', templ);\r\n    wrapperParent.appendChild(canvas);\r\n    \r\n    if (animate) {\r\n      let animFrame = (timestamp) => {\r\n        // randomly fade a few polygons\r\n        for (let i=0; i<fading.length; i++) {\r\n          if (!fading[i]) continue;\r\n          let [stop, clrStops, p] = fading[i];\r\n          ctx.fillStyle = ctx.strokeStyle = clrStops[stop];\r\n          ctx.beginPath();\r\n          ctx.moveTo.apply(ctx, p[0]);\r\n          ctx.lineTo.apply(ctx, p[1]);\r\n          ctx.lineTo.apply(ctx, p[2]);\r\n          ctx.fill();\r\n          ctx.stroke();\r\n\r\n          if (stop + 1 < clrStops.length)\r\n            fading[i][0] = stop + 1;\r\n          else\r\n            delete fading[i];\r\n        }\r\n\r\n        // every 1/2 second, fade a few more\r\n        if (timestamp - lastTimestamp > 500) {\r\n          for (let i=0; i<polys.length; i++) {\r\n            let [clr, p] = polys[i];\r\n            if (!!fading[i]) continue;\r\n            if (Math.random() < 0.03) {\r\n              let randClr = chooseRandomFromArray(chosenColors);\r\n              fading[i] = [0, getGradient(chosenColors[clr], randClr, defaultNumStops), p];\r\n              polys[i][0] = chosenColors.indexOf(randClr);\r\n            }\r\n          }\r\n\r\n          lastTimestamp = timestamp;\r\n        }\r\n\r\n        return requestAnimationFrame(animFrame);\r\n      };\r\n      \r\n      animFrame(0);\r\n    }\r\n    \r\n    return {\r\n      canvas,\r\n      changeColorSet\r\n    };\r\n  }\r\n\r\n  let chosenTitleClr = title.dataset.clr || chooseRandomFromArray(Object.keys(choosableColors)),\r\n      titleCanvas,\r\n      changeTitleColorSet;\r\n      \r\n  window.onload = () => {\r\n    let title = $('#title'),\r\n        chosenClr = colors[chosenTitleClr],\r\n        { canvas, changeColorSet } = trianglify(title, chosenClr, true);\r\n    \r\n    titleCanvas = canvas;\r\n    changeTitleColorSet = changeColorSet;\r\n    \r\n    for (let a of $$('#header .subtitle a')) {\r\n      a.style.color = chosenClr[2];\r\n      if (a.classList.contains('resume-link')) {\r\n        a.style.color = chosenClr[3];\r\n      }\r\n    }\r\n  \r\n    if (title.dataset.hasOwnProperty('changeable') && title.dataset.changeable !== 'false') {\r\n      title.onclick = () => {\r\n        let choosableClrs = Object.keys(choosableColors);\r\n        if (~choosableClrs.indexOf(chosenTitleClr)) {\r\n          choosableClrs.splice(choosableClrs.indexOf(chosenTitleClr), 1);\r\n        }\r\n        \r\n        chosenTitleClr = chooseRandomFromArray(choosableClrs);\r\n        chosenClr = choosableColors[chosenTitleClr];\r\n        \r\n        changeTitleColorSet(chosenClr);\r\n        \r\n        for (let a of $$('#header .subtitle a')) {\r\n          a.style.color = chosenClr[2];\r\n          if (a.classList.contains('resume-link')) {\r\n            a.style.color = chosenClr[3];\r\n          }\r\n        }\r\n      };\r\n    }\r\n    \r\n    for (let t of $$('.trianglify')) {\r\n      trianglify(t, colors[t.dataset.clr || chooseRandomFromArray(Object.keys(choosableColors))]);\r\n    }\r\n  \r\n    for (let l of $$('#site-header dt')) {\r\n      $(l, '.trianglify-ghost-text').style.color = colors[l.dataset.clr][1];\r\n    }\r\n  };\r\n  \r\n  let resizeTimeout, lastWindowWidth = window.innerWidth;\r\n  \r\n  window.onresize = () => {\r\n    if (window.innerWidth === lastWindowWidth) return;\r\n    \r\n    clearTimeout(resizeTimeout);\r\n    resizeTimeout = setTimeout(() => {\r\n      let title = $('#title'),\r\n          childNodes = Array.prototype.slice.call(title.childNodes);\r\n      \r\n      for (let n of childNodes) {\r\n        if (n.className === 'trianglify-text' || n.className === 'trianglify-canvas') {\r\n          title.removeChild(n);\r\n        } else if (n.className === 'trianglify-ghost-text') {\r\n          n.className = 'text-wrap';\r\n        }\r\n      }\r\n      \r\n      title.setAttribute('style', '');\r\n      \r\n      let { canvas, changeColorSet } = trianglify(title, colors[chosenTitleClr], true);\r\n      \r\n      titleCanvas = canvas;\r\n      changeTitleColorSet = changeColorSet;\r\n    }, Math.abs(window.innerWidth - lastWindowWidth) > 100 ? 0 : 100);\r\n    lastWindowWidth = window.innerWidth;\r\n  }\r\n})();"]}